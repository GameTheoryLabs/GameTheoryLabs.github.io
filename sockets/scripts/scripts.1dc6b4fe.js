"use strict";!function(){var a=angular.module("networkSandboxApp",["ngAnimate","ngResource","ngRoute","ui.bootstrap","NetworkServices","server","panels"]);a.val=0}(),function(){var a=document.createElement("script");a.type="text/javascript",a.src="https://cdn.socket.io/socket.io-1.0.0.js",document.body.appendChild(a);var b=angular.module("NetworkServices",[]);b.factory("socket",["$rootScope",function(a){var b="129.119.228.109",c="8080",d=null,e={},f={on:function(b,c){var f=b+Date.now();return e[f]=function(){var b=arguments;a.$apply(function(){c.apply(d,b)})},d.on(b,e[f]),f},emit:function(b,c,e){d.emit(b,c,function(){var b=arguments;a.$apply(function(){e&&e.apply(d,b)})})},removeListener:function(a,b){d.removeListener(a,e[b]),e[b]=null},connect:function(a,e){b=a,c=e,console.log("Connecting to "+b+":"+c),d?d.connect(b+":"+c):(d=window.io.connect(b+":"+c),f.on("clients",function(a){console.log("Client Update"),f.clients.tcp=a.tcp,f.clients.udp=a.udp,f.clients.browser=a.browser}))},close:function(){console.log("Closed connection with Server"),d.close()},clients:{tcp:0,udp:0,browser:0}};return f}])}(),function(){var a=angular.module("server",["ui.bootstrap","NetworkServices","packetInspector","updateTab"]);a.controller("ServerCtrl",["socket","$scope",function(a){var b=this;b.isCollapsed=!0,b.ip="129.119.228.12",b.port="8000",b.close=function(){a.close()},b.connect=function(){a.connect(b.ip,b.port)}}]),a.directive("server",function(){return{restrict:"E",templateUrl:"views/server.html",controller:"ServerCtrl",controllerAs:"server"}})}(),function(){var a=angular.module("panels",["ui.bootstrap","NetworkServices"]);a.controller("PanelsCtrl",["socket","$scope",function(a){this.tab=1,this.clients=a.clients}]),a.directive("panels",function(){return{restrict:"E",templateUrl:"views/panels.html",controller:"PanelsCtrl",controllerAs:"panel"}})}(),function(){var a=angular.module("packetInspector",["ui.bootstrap","NetworkServices"]);a.controller("InspectorCtrl",["socket","$scope",function(a){var b=this;this.active=!1,this.messages="Packets will go here \n",this.AppendMessage=function(a){this.messages=a+"\n"+this.messages},this.onMessage=function(a){var c="",d=new Date,e=d.getHours()+":"+d.getMinutes()+":"+d.getSeconds()+":"+d.getMilliseconds();c=a.message.id?JSON.stringify(a.message,void 0,4):String.fromCharCode.apply(null,new Uint8Array(a.message));var f="Got "+a.type+" message at: "+e;f+="\nMessage: \n"+c+"\n",console.log(f),b.AppendMessage(f)},this.Activate=function(){b.active?(console.log("Adding Packet Inspector Event Listeners"),b.onMessage.id=a.on("message",b.onMessage)):(console.log("Removing Packet Inspector Event Listeners"),a.removeListener("message",b.onMessage.id))}}]),a.directive("packetInspector",function(){return{restrict:"E",templateUrl:"views/inspector.html",controller:"InspectorCtrl",controllerAs:"inspector"}})}(),function(){var a=angular.module("updateTab",["ui.bootstrap","NetworkServices"]);a.controller("UpdateTabCtrl",["socket","$scope",function(a){var b=this;this.active=!1,this.messages="Packets will go here \n",this.canvas=document.getElementById("updateTabCanvas"),this.ctx=this.canvas.getContext("2d"),this.drawRect=function(a,b,c,d){this.ctx.fillRect(a,b,5*d,5*d)},this.onMessage=function(a){1===a.message.id?(b.canvas.width=b.canvas.width,b.drawRect(a.message.x,a.message.y,"black",2)):console.log("Unkown packet type")},this.Activate=function(){b.active?(console.log("Adding UpdateTab Event Listeners"),b.onMessage.id=a.on("message",b.onMessage)):(console.log("Removing UpdateTab Event Listeners"),a.removeListener("message",b.onMessage.id))}}]),a.directive("updateTab",function(){return{restrict:"E",templateUrl:"views/update.html",controller:"UpdateTabCtrl",controllerAs:"updateTab"}})}(),angular.module("networkSandboxApp").controller("MainCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("networkSandboxApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]);